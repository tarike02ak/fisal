<!DOCTYPE html>
<html>

<head>
    <title>حلا ام فيصل</title>
    <meta charset="utf-8">
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Kufi+Arabic:wght@200&display=swap" rel="stylesheet">
    <style>
        body {
            padding-top: 170px;
            background-color: #231f20;
            color: white;
            font-family: 'Noto Kufi Arabic', sans-serif;
            background: url(bbb.jpg) no-repeat center center fixed;
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-size: cover;
            background: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.9));
        }
        
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        p {
            margin: 0;
            margin-bottom: 10px;
        }
        
        #cover {
            background: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.9));
            position: fixed;
            background: url(bbb.jpg) no-repeat center center fixed;
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-size: cover;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
        }
        
        #appbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            padding: 30px;
            color: white;
            font-size: 30px;
            text-align: center;
        }
        
        .block {
            background-color: rgba(196, 153, 108, 0.5);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            padding: 10px;
            margin: 10px;
            color: white;
            border-radius: 10px;
        }
        
        .greenblock {
            background-color: #00cd05;
            padding: 10px;
            margin: 10px;
            color: white;
            border-radius: 10px;
        }
        
        select,
        input {
            box-sizing: border-box;
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            font-family: 'Noto Kufi Arabic', sans-serif;
            font-size: 16px;
            border-radius: 5px;
            outline: none;
            border: none;
        }
        
        #drawer {
            position: fixed;
            left: 0;
            top: 0;
            bottom: 0;
            padding-top: 70px;
            background-color: gray;
            width: 70%;
            max-width: 512px;
            color: white;
            display: none;
        }
        
        .draweritem {
            padding: 20px;
            border-bottom: 1px solid white;
        }
        
        .nicefont {
            font-family: 'Noto Kufi Arabic', sans-serif;
            font-weight: normal;
            font-size: 22px;
        }
        
        #cakes {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            padding-top: 20px;
            background-color: rgba(196, 153, 108, .75);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            display: none;
        }
        
        .cakebutton {
            background-color: rgba(255, 255, 255, .75);
            padding: 10px;
            margin: 10px;
            border-radius: 10px;
            color: gray;
        }
    </style>
</head>

<body>

    <div id="drawer">
        <div class="draweritem" onclick=showpart( "order")>اطلب الأن</div>
        <div class="draweritem" onclick=showpart( "about")>About</div>
    </div>

    <div id="whole">
        <div id="appbar">
            <img src="logo.jpg" width="256px;">
        </div>

        <div class="page order">
            <div class="block">
                <h3 align="center" class="nicefont">دليل العميل</h3>
                <p>الاسم الكامل</p>
                <input id="ordername">
                <p>رقم الطاولة</p>
                <input id="orderaddress">
                <p>رقم هاتفك</p>
                <input type="number" id="orderphone">
            </div>
            <div class="block">
                <h3 align="center" class="nicefont">اختر الحلا ألي تريد</h3>
                <input placeholder="اختر الي تحبه" value="اختر الي تحبه" readonly onclick="showcakechooser()">

            </div>


            <div class="block">
                <h3 align="center" class="nicefont">رقم المجلس</h3>
                <select id="deliverytime">
                        <option>المجلس رقم 1</option>
                        <option>المجلس رقم 2</option>
                        <option>المجلس رقم 3</option>
                        <option>المجلس رقم 4</option>
                        <option>المجلس رقم 5</option>
                        <option>المجلس رقم 6</option>
                    </select>
            </div>


            <div class="greenblock" onclick="ordernow()">
                <h3 align="center" class="nicefont">اطلب الأن</h3>
            </div>

        </div>

    </div>

    <div id="cakes">
        <h3 align="center" class="nicefont">اختر طلبك</h3>
        <div id="cakebuttons">

        </div>

        <div class="cakebutton" style="background-color: #00cd05; text-align: center; color: white;" onclick="hidecakes()">
            <h3 align="center" class="nicefont">واصل</h3>
        </div>
    </div>

    <div id="cover"></div>

    <script>
        function toggledrawer() {
            $("#drawer").toggle()
        }

        function showpart(part) {
            $("#drawer").hide()
            $(".page").hide()
            $("." + part).show()
        }

        showpart("order")

        $("#whole").hide()
        setTimeout(function() {
            $("#cover").fadeOut()
            $("#whole").fadeIn()
        }, 2000)

        $("#ordernumber").val(function() {
            return Math.floor(Math.random() * 9999) + 1000
        })

        var today = new Date();
        var date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();
        var time = today.getHours() + ":" + today.getMinutes() + ":" + today.getSeconds();
        var dateTime = date + ' ' + time;

        $("#currentdate").val(function() {
            return dateTime
        })

        $(function() {
            $("#datepicker").datepicker();
        });

        function showcakechooser() {
            $("#cakes").fadeIn()
        }

        function hidecakes() {
            $("#cakes").fadeOut()
        }

        var products = [
            "الكليجة",
            "الحنيني",
            "العريكة",
            "المعصوب",
            "الدبيازة",
            "لقمة القاضي",
            "القطايف",
        ]

        $("#cakebuttons").html(function() {
            var pb = "";
            for (var i = 0; i < products.length; i++) {
                pb += "<div class='cakebutton' id='pb" + i + "' onclick='togglepb(" + i + ")'><span><i class='fa fa-check'></i> </span>" + products[i] + "</div>"
            }
            return pb
        })

        var orderdetails = {
            cakes: []
        }

        function togglepb(n) {
            //check is this cake added
            if (dowehave(n)) {
                $("#pb" + n).css({
                    "background-color": "rgba(255,255,255,.75)",
                    "color": "gray",
                    "border": "1px solid gray"
                })
            } else {
                $("#pb" + n).css({
                    "background-color": "white",
                    "color": "#00cd05",
                    "border": "3px solid #00cd05"
                })
            }
        }

        function dowehave(n) {
            if (orderdetails.cakes.length > 0) {
                for (var i = 0; i < orderdetails.cakes.length; i++) {
                    if (orderdetails.cakes[i] == n) {
                        orderdetails.cakes.splice(i, 1)
                        return true
                    }
                }
            }
            orderdetails.cakes.push(n)
            return false
        }

        function ordernow() {
            var ordernumber = $("#ordernumber").val()
            var orderdate = $("#currentdate").val()
            var ordername = $("#ordername").val()
            var orderaddress = $("#orderaddress").val()
            var orderphone = $("#orderphone").val()
            var deliverydate = $("#datepicker").val()
            var deliverytime = $("#deliverytime").val()

            //check if all input are filled
            var notcomplete = false
            for (var i = 0; i < $("input").length; i++) {
                if ($("input").eq(i).val() == "")
                    notcomplete = true
            }
            if (notcomplete)
                alert("المرجو ملء كل الخانات")
            else {
                var oi = "";
                if (orderdetails.cakes.length > 0) {
                    for (var i = 0; i < orderdetails.cakes.length; i++) {
                        oi += products[orderdetails.cakes[i]] + ", "
                    }
                    var ordermessage = " Name: " + ordername + ", Address: " + orderaddress + ", Phone: " + orderphone + ", Delivery Time: " + deliverytime + ", Ordered Items: " + oi
                        //alert(ordermessage)
                    var omuri = encodeURI(ordermessage)
                    location.href = "https://wa.me/212621908080?text=" + omuri
                } else {
                    alert("لم تختر اي طلب بعد")
                }
            }
        }
    </script>
</body>

</html>